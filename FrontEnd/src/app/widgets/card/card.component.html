
<form class="form-container p-2" [formGroup]="newForm">


    <!--  -->
    <div>
        <mat-form-field appearance="fill">
            <mat-label>Select Loction</mat-label>
            <mat-select placeholder="" formControlName="LOCATION">
                <mat-option *ngFor="let key of widgetResponse.totalLocations" [value]="key.LOCATION">
                    {{key.LOCATION}}
                </mat-option>

            </mat-select>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Enter date range</mat-label>
            <mat-date-range-input [rangePicker]="picker">
                <input matStartDate formControlName="START_DATE" placeholder="Start date">
                <input matEndDate formControlName="END_DATE" placeholder="End date">
            </mat-date-range-input>
            <mat-hint>MM/DD/YYYY â€“ MM/DD/YYYY</mat-hint>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-date-range-picker #picker></mat-date-range-picker>

            <!-- <mat-error *ngIf="range.controls.start.hasError('matStartDateInvalid')">Invalid start date</mat-error>
            <mat-error *ngIf="range.controls.end.hasError('matEndDateInvalid')">Invalid end date</mat-error> -->
        </mat-form-field>

        <button mat-button (click)="filterSrc()">
            <mat-icon>search</mat-icon>
        </button>

    </div>
    <div>
    </div>
</form>

<!-- <plotly-plot [data]="graph1.data" [layout]="graph1.layout" [useResizeHandler]="true" (hover)="hover($event)"
    (mouseleave)="mouseLeave($event)"></plotly-plot> -->

<div *ngIf="widgetResponse.totalDevice">

    <div class="parent" *ngFor="let item of widgetResponse.totalDevice;let i=index">
        <div class="g-flex">
          <mat-label class="p-header" color="primary">{{item.DEVICE_ID}}</mat-label>
        </div>
        <div class="g-flex">
            
            <div *ngFor="let sensor of item.units">
                <mat-card class="tcard">
                    <div>{{sensor.key}}</div>

                    <div>{{sensor.value}}</div>
                </mat-card>


            </div>
        </div>
    </div>

</div>
{{errMessage?errMessage:''}}
